<Page x:Class="kanzeed.Pages.ProductEditPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="clr-namespace:kanzeed.Pages"
      Title="Редактирование товара"
      Background="#F8F9FA">

    <Page.Resources>
        <!-- Временно дублируем стиль кнопок (если у вас общий стиль приложения — можно убрать) -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#4361EE"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="15,0"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#3A56D4"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#CCCCCC"/>
                    <Setter Property="Foreground" Value="#888888"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="SecondaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#4361EE"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#4361EE"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="15,0"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#F0F3FF"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Page.Resources>

    <Grid>
        <Border Background="White" CornerRadius="12" Padding="20" HorizontalAlignment="Center" VerticalAlignment="Top" Width="900">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,20,0">
                    <TextBlock x:Name="TitleText" Text="Добавление товара" FontSize="20" FontWeight="Bold" Foreground="#333" Margin="0,0,0,10"/>

                    <!-- Название -->
                    <TextBlock Text="Название" FontSize="13" Foreground="#444" Margin="0,8,0,4"/>
                    <Border CornerRadius="8" BorderBrush="#DDDDDD" BorderThickness="1" Background="#F8F9FA" Height="44">
                        <TextBox x:Name="NameTextBox" Background="Transparent" BorderThickness="0" Padding="12,0" FontSize="14" MaxLength="100"/>
                    </Border>

                    <!-- SKU -->
                    <TextBlock Text="Артикул (SKU)" FontSize="13" Foreground="#444" Margin="0,12,0,4"/>
                    <Border CornerRadius="8" BorderBrush="#DDDDDD" BorderThickness="1" Background="#F8F9FA" Height="44">
                        <TextBox x:Name="SkuTextBox" Background="Transparent" BorderThickness="0" Padding="12,0" FontSize="14" MaxLength="50"/>
                    </Border>

                    <!-- Описание -->
                    <TextBlock Text="Описание" FontSize="13" Foreground="#444" Margin="0,12,0,4"/>
                    <Border CornerRadius="8" BorderBrush="#DDDDDD" BorderThickness="1" Background="#F8F9FA" Padding="8" MinHeight="120">
                        <TextBox x:Name="DescriptionTextBox" Background="Transparent" BorderThickness="0" Padding="0" FontSize="13" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"/>
                    </Border>

                    <!-- Цена и Количество -->
                    <Grid Margin="0,12,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Цена (₽)" FontSize="13" Foreground="#444" Margin="0,0,0,4"/>
                            <Border CornerRadius="8" BorderBrush="#DDDDDD" BorderThickness="1" Background="#F8F9FA" Height="44">
                                <TextBox x:Name="PriceTextBox" Background="Transparent" BorderThickness="0" Padding="12,0" FontSize="14"/>
                            </Border>
                        </StackPanel>

                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Количество на складе" FontSize="13" Foreground="#444" Margin="0,0,0,4"/>
                            <Border CornerRadius="8" BorderBrush="#DDDDDD" BorderThickness="1" Background="#F8F9FA" Height="44">
                                <TextBox x:Name="StockTextBox" Background="Transparent" BorderThickness="0" Padding="12,0" FontSize="14"/>
                            </Border>
                        </StackPanel>
                    </Grid>

                    <!-- Категория и Поставщик -->
                    <Grid Margin="0,12,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Категория" FontSize="13" Foreground="#444" Margin="0,0,0,4"/>
                            <ComboBox x:Name="CategoryComboBox" Height="44" FontSize="14" Padding="12,0" />
                        </StackPanel>

                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Поставщик" FontSize="13" Foreground="#444" Margin="0,0,0,4"/>
                            <ComboBox x:Name="SupplierComboBox" Height="44" FontSize="14" Padding="12,0" />
                        </StackPanel>
                    </Grid>

                    <!-- Buttons bottom -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,18,0,0">
                        <Button x:Name="SaveButton" Style="{StaticResource PrimaryButtonStyle}" Width="140" Click="SaveButton_Click">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="💾" Margin="0,0,8,0"/>
                                <TextBlock Text="Сохранить"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="CancelButton" Style="{StaticResource SecondaryButtonStyle}" Width="120" Click="CancelButton_Click">
                            <TextBlock Text="Отмена"/>
                        </Button>

                        <Button x:Name="DeleteButton" Width="120" Background="#FFF0F0" BorderBrush="#FF4444" Visibility="Collapsed" Click="DeleteButton_Click">
                            <TextBlock Text="Удалить" Foreground="#FF4444"/>
                        </Button>
                    </StackPanel>

                </StackPanel>

                <!-- Правый столбец: картинка и технические поля -->
                <StackPanel Grid.Column="1">
                    <TextBlock Text="Изображение товара" FontSize="13" Foreground="#444" Margin="0,0,0,8"/>
                    <Border CornerRadius="8" BorderBrush="#EEEEEE" BorderThickness="1" Background="#FAFAFA" Height="220" HorizontalAlignment="Stretch">
                        <Grid>
                            <Image x:Name="ProductImage" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Grid>
                    </Border>

                    <Button x:Name="ChooseImageButton" Style="{StaticResource SecondaryButtonStyle}" Margin="0,12,0,0" Click="ChooseImageButton_Click">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="📁" Margin="0,0,8,0"/>
                            <TextBlock Text="Выбрать изображение"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="ClearImageButton"
        Style="{StaticResource SecondaryButtonStyle}"
        Margin="0,8,0,0"
        Click="ClearImageButton_Click">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="🗑" Margin="0,0,8,0"/>
                            <TextBlock Text="Очистить изображение"/>
                        </StackPanel>
                    </Button>


                    <TextBlock Text="Путь к изображению" FontSize="12" Foreground="#666" Margin="0,12,0,4"/>
                    <TextBox x:Name="ImagePathTextBox" IsReadOnly="True" Height="36" Padding="12,4" Background="#F8F9FA" BorderBrush="#DDDDDD" BorderThickness="1"/>

                    <TextBlock Text="Доп. настройки" FontSize="13" FontWeight="SemiBold" Foreground="#333" Margin="0,16,0,8"/>

                    <StackPanel>

                        <CheckBox x:Name="IsDiscountedCheckBox"
              Content="Есть скидка"
              Foreground="#666"
              Checked="IsDiscountedCheckBox_Checked"
              Unchecked="IsDiscountedCheckBox_Unchecked"/>

                        <!-- Процент скидки -->
                        <StackPanel x:Name="DiscountPanel"
                Margin="0,8,0,0"
                Visibility="Collapsed">

                            <TextBlock Text="Процент скидки (%)"
                   FontSize="13"
                   Foreground="#444"
                   Margin="0,0,0,4"/>

                            <Border CornerRadius="8"
                BorderBrush="#DDDDDD"
                BorderThickness="1"
                Background="#F8F9FA"
                Height="44">

                                <TextBox x:Name="DiscountTextBox"
                     Background="Transparent"
                     BorderThickness="0"
                     Padding="12,0"
                     FontSize="14"
                     MaxLength="5"/>
                            </Border>

                        </StackPanel>

                    </StackPanel>


                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</Page>
